<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>組件間的資料傳輸 | 勇者鬥 Vue 龍</title>
    <meta name="description" content="Vue.js 學習之旅">
    <link rel="icon" href="/VuejsQuest/logo.ico">
    
    <link rel="preload" href="/VuejsQuest/assets/css/0.styles.fd938c14.css" as="style"><link rel="preload" href="/VuejsQuest/assets/js/app.817b13d4.js" as="script"><link rel="preload" href="/VuejsQuest/assets/js/7.0152acd3.js" as="script"><link rel="prefetch" href="/VuejsQuest/assets/js/10.16136e20.js"><link rel="prefetch" href="/VuejsQuest/assets/js/11.506670dd.js"><link rel="prefetch" href="/VuejsQuest/assets/js/12.a8d35a47.js"><link rel="prefetch" href="/VuejsQuest/assets/js/13.d338f4bc.js"><link rel="prefetch" href="/VuejsQuest/assets/js/14.3e2587a1.js"><link rel="prefetch" href="/VuejsQuest/assets/js/15.0be56e6f.js"><link rel="prefetch" href="/VuejsQuest/assets/js/16.db74247e.js"><link rel="prefetch" href="/VuejsQuest/assets/js/17.b67370f7.js"><link rel="prefetch" href="/VuejsQuest/assets/js/18.41e67b09.js"><link rel="prefetch" href="/VuejsQuest/assets/js/19.167f4bf8.js"><link rel="prefetch" href="/VuejsQuest/assets/js/2.955f0450.js"><link rel="prefetch" href="/VuejsQuest/assets/js/20.575b98d7.js"><link rel="prefetch" href="/VuejsQuest/assets/js/21.a8426620.js"><link rel="prefetch" href="/VuejsQuest/assets/js/22.13ec14d4.js"><link rel="prefetch" href="/VuejsQuest/assets/js/23.4d300e01.js"><link rel="prefetch" href="/VuejsQuest/assets/js/24.c8201226.js"><link rel="prefetch" href="/VuejsQuest/assets/js/25.bc9fc394.js"><link rel="prefetch" href="/VuejsQuest/assets/js/26.669956fb.js"><link rel="prefetch" href="/VuejsQuest/assets/js/27.de3abd9d.js"><link rel="prefetch" href="/VuejsQuest/assets/js/28.08e80438.js"><link rel="prefetch" href="/VuejsQuest/assets/js/29.1197778c.js"><link rel="prefetch" href="/VuejsQuest/assets/js/3.842ece7f.js"><link rel="prefetch" href="/VuejsQuest/assets/js/30.d476bbd7.js"><link rel="prefetch" href="/VuejsQuest/assets/js/31.4152fa13.js"><link rel="prefetch" href="/VuejsQuest/assets/js/32.0495ec4c.js"><link rel="prefetch" href="/VuejsQuest/assets/js/33.058ef5ec.js"><link rel="prefetch" href="/VuejsQuest/assets/js/34.dcabd0aa.js"><link rel="prefetch" href="/VuejsQuest/assets/js/35.a6b53978.js"><link rel="prefetch" href="/VuejsQuest/assets/js/36.79f8b591.js"><link rel="prefetch" href="/VuejsQuest/assets/js/37.425abbd6.js"><link rel="prefetch" href="/VuejsQuest/assets/js/38.ff7559cb.js"><link rel="prefetch" href="/VuejsQuest/assets/js/39.d5c5ac50.js"><link rel="prefetch" href="/VuejsQuest/assets/js/4.f442a717.js"><link rel="prefetch" href="/VuejsQuest/assets/js/5.085c76e4.js"><link rel="prefetch" href="/VuejsQuest/assets/js/6.24ea4628.js"><link rel="prefetch" href="/VuejsQuest/assets/js/8.160c573f.js"><link rel="prefetch" href="/VuejsQuest/assets/js/9.3a530d1f.js">
    <link rel="stylesheet" href="/VuejsQuest/assets/css/0.styles.fd938c14.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/VuejsQuest/" class="home-link router-link-active"><!----> <span class="site-name">勇者鬥 Vue 龍</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/VuejsQuest/basic/01_Preface.html" class="nav-link">基礎</a></div> <a href="https://github.com/peterhpchen/VuejsQuest" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/VuejsQuest/basic/01_Preface.html" class="nav-link">基礎</a></div> <a href="https://github.com/peterhpchen/VuejsQuest" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/VuejsQuest/basic/01_Preface.html" class="sidebar-link">踏上旅程之前</a></li><li><a href="/VuejsQuest/basic/02_FirstVue.html" class="sidebar-link">初探 Vue.js</a></li><li><a href="/VuejsQuest/basic/03_Instance.html" class="sidebar-link">Vue 實例</a></li><li><a href="/VuejsQuest/basic/04_Lifecycle.html" class="sidebar-link">Vue 實體的生命週期</a></li><li><a href="/VuejsQuest/basic/05_Mustache.html" class="sidebar-link">模板語法 Part 1 - Mustache 標籤</a></li><li><a href="/VuejsQuest/basic/06_Directives.html" class="sidebar-link">模板語法 Part 2 - Directives</a></li><li><a href="/VuejsQuest/basic/07_Computed.html" class="sidebar-link">計算屬性</a></li><li><a href="/VuejsQuest/basic/08_Watcher.html" class="sidebar-link">監聽器( watch )</a></li><li><a href="/VuejsQuest/basic/09_ComputedVSWatch.html" class="sidebar-link">計算屬性與監聽器的比較</a></li><li><a href="/VuejsQuest/basic/10_Class.html" class="sidebar-link">Class 的綁定</a></li><li><a href="/VuejsQuest/basic/11_Style.html" class="sidebar-link">樣式綁定</a></li><li><a href="/VuejsQuest/basic/12_Conditional.html" class="sidebar-link">條件渲染</a></li><li><a href="/VuejsQuest/basic/13_For.html" class="sidebar-link">列表渲染</a></li><li><a href="/VuejsQuest/basic/14_Reactivity.html" class="sidebar-link">響應系統</a></li><li><a href="/VuejsQuest/basic/15_Set.html" class="sidebar-link">使用 set 新增實體中的屬性</a></li><li><a href="/VuejsQuest/basic/16_Event.html" class="sidebar-link">事件處理</a></li><li><a href="/VuejsQuest/basic/17_EventModifier.html" class="sidebar-link">v-on 的修飾符 Part 1 - 事件修飾符</a></li><li><a href="/VuejsQuest/basic/18_KeyModifier.html" class="sidebar-link">v-on 的修飾符 Part 2 - 按鍵修飾符</a></li><li><a href="/VuejsQuest/basic/19_FormInputBinding.html" class="sidebar-link">表單綁定</a></li><li><a href="/VuejsQuest/basic/20_ComponentBasic.html" class="sidebar-link">組件基礎</a></li><li><a href="/VuejsQuest/basic/21_ComponentData.html" class="active sidebar-link">組件間的資料傳輸</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/VuejsQuest/basic/21_ComponentData.html#父組件使用屬性傳資料給子組件" class="sidebar-link">父組件使用屬性傳資料給子組件</a></li><li class="sidebar-sub-header"><a href="/VuejsQuest/basic/21_ComponentData.html#使用-emit-反應子組件中的變化" class="sidebar-link">使用 $emit 反應子組件中的變化</a></li><li class="sidebar-sub-header"><a href="/VuejsQuest/basic/21_ComponentData.html#在組件上使用-v-model" class="sidebar-link">在組件上使用 v-model</a></li><li class="sidebar-sub-header"><a href="/VuejsQuest/basic/21_ComponentData.html#demo" class="sidebar-link">DEMO</a></li><li class="sidebar-sub-header"><a href="/VuejsQuest/basic/21_ComponentData.html#結語" class="sidebar-link">結語</a></li><li class="sidebar-sub-header"><a href="/VuejsQuest/basic/21_ComponentData.html#參考資料" class="sidebar-link">參考資料</a></li></ul></li><li><a href="/VuejsQuest/basic/22_ComponentRegistration.html" class="sidebar-link">組件註冊</a></li><li><a href="/VuejsQuest/basic/23_Props.html" class="sidebar-link">props 屬性</a></li><li><a href="/VuejsQuest/basic/24_PropsValidation.html" class="sidebar-link">屬性驗證</a></li><li><a href="/VuejsQuest/basic/25_PropsAttribute.html" class="sidebar-link">屬性注意事項</a></li><li><a href="/VuejsQuest/basic/26_CustomEvent.html" class="sidebar-link">客製事件</a></li><li><a href="/VuejsQuest/basic/27_Slots.html" class="sidebar-link">插槽</a></li><li><a href="/VuejsQuest/basic/28_KeepAlive.html" class="sidebar-link">動態組件</a></li><li><a href="/VuejsQuest/basic/29_AsyncComponent.html" class="sidebar-link">非同步組件</a></li><li><a href="/VuejsQuest/basic/31_AccessOtherComponent.html" class="sidebar-link">尋訪其他組件</a></li><li><a href="/VuejsQuest/basic/32_DependencyInjection.html" class="sidebar-link">依賴注入</a></li><li><a href="/VuejsQuest/basic/33_EventListeners.html" class="sidebar-link">事件監聽器</a></li><li><a href="/VuejsQuest/basic/34_Template.html" class="sidebar-link">模板定義</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="組件間的資料傳輸"><a href="#組件間的資料傳輸" aria-hidden="true" class="header-anchor">#</a> 組件間的資料傳輸</h1> <p>父組件及子組件由於屬於不同的實體，不能直接在一個組件上使用另一個組件的方法或是修改資料，而是必須要使用 <code>props</code> 屬性及 <code>$emit</code> 方法來進行溝通。</p> <p><img src="/VuejsQuest/assets/img/betweencomponent.9333204b.png" alt="betweencomponent"></p> <p>子組件只要在 <code>props</code> 屬性加上需要由父組件傳入的參數定義，父組件就可以在配置子組件的時候給予子組件所需的參數屬性，而如果子組件因為變動需要通知父組件，就可以使用 <code>$emit</code> 通知父組件，而父組件只要設定相關事件的處理函數就可以接收到子組件的資料。</p> <h2 id="父組件使用屬性傳資料給子組件"><a href="#父組件使用屬性傳資料給子組件" aria-hidden="true" class="header-anchor">#</a> 父組件使用屬性傳資料給子組件</h2> <p>在子組件使用 <code>props</code> 屬性註冊客製屬性，由父組件設定在子組件的屬性會變為實體中的屬性，如此一來就可以在子組件中使用由父組件傳來的資料。</p> <p>跟前一篇一樣使用計算按鈕為例:</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'button-counter'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    &lt;button @click=&quot;count+=1&quot;&gt;
      {{buttonName}} {{count}} times
    &lt;/button&gt;
  `</span></span><span class="token punctuation">,</span>
  props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'buttonName'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function-variable function">data</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      count<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在 <code>props</code> 中設定 <code>buttonName</code> ，表示 <code>buttonName</code> 是一個客製屬性，會由父組件在設定模板時給予它的值。</p> <p>接著設定父組件:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button-counter</span> <span class="token attr-name">button-name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Click me<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button-counter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在父組件上以 kebab Case 設定客製屬性 <code>button-name</code> ，將它的值設為 <code>Click me</code> 。</p> <p>接著我們可以看到結果如下圖:</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAAiCAYAAAByWNYHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIpSURBVHhe7ZaLjcMgDIYzEeuwDMNkge7AKp2E4xFSY4yTnoKa1rb0S+UwYPszXJagJs4UukBT6AJNoQs0hS7QFLpAI6E/Hg/VD2hkQ+jP51P1xVLoAqXQBUqhC9QHoa/BLiY4T81RetdfNdJ86N4FsyxhAbJrmoMQzwC9AfQmFxtWyicLx3qvhp0LfbUAclUsgHHBv12ITxfOB2dALim3nAf0qboXZKyJ0EuRjPPEXBIsDC5SGoPXwa7Ip+xNF33zc6XhknIMWwPu48Z/OyeqbVCgfMtBjHlM3fYttn3P5ANjvzA+sCYr1wnMDzQPOi5SJ6IQEOieQBzb9mVY7VEzgfX1SW7GFRZqzCFIYo7ND+aDxxfF150f991rxmsy9EEBs3Ahtt9dMlXFx1rDAE+C+x6MuxhLkcnbnm8V9MX7QnExcHNozMWX55iXidH9bnpX3KrkE29E1GXQ8fO4iSwkBsDmx8VwYXxo/mwDzIOOn6ZOg0J03V1VfZjb2PidGA8bjBCGPIwziYthUnxv+E6EHrV1YgsoJtV9vcPfBSr3P/3/twyP+8b08QOL3hc1W8qN/XqHecMzL4ovnt9cqFSTYTyt5kJPyoBeT9CrCY4KAdbkBmh9vDNxDq6Ba/FeR2NwFls46MvfqhJf9YNnnonnTHzo780aXvOhq24nhS5QCl2gFLpA/Qu66vs1MhK62m+bQhdoCl2gKXSBptAFmkIXaApdoCl0cRbCHyZCAFrY0kZgAAAAAElFTkSuQmCC" alt="props"></p> <p>也可以使用 <code>v-bind</code> 綁定資料屬性:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    buttonName<span class="token punctuation">:</span> <span class="token string">''</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>buttonName<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button-counter</span> <span class="token attr-name">:button-name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>buttonName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button-counter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARoAAAAcCAYAAAC+nXATAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAOTSURBVHhe7ZnNkYMwDIWpiBO9UABdZGiBHmggx9ypI7dU4vUPJrKQTX5shg3vzbydFZawyUZfHG+lIAiCCisAzeVygeEshiCqFWgg6FvF3kfX6xU+ibkAGii7UqB5PB7wjxugYaoqHFGVEEBzbgM0TABNGQE05zZAwwTQlBFAc24fHDQ31VWNGu5zuIMAmjL6f6AZVVvVqp+kMfhdvw6a+6Aa3YSmESU3RWgA0PyKvgLN1Kuavd+o636S677yQUATPHurRinHmq/3WKD8cEezFwAAml9Rvh3NXg10hEadVF9Xqh3neGxVVfdqWuUZHwss3PlBE+x8aA6vkWJfp93d5ms6Z+iW6/GdUyT3FqsN57PTaZnfofzaBTTBpz/N4TVS/HwvVO34zOl1c8/X4zunSK4Bg1gbzreAhNs+D1mnjaVdjQOSv5/b+dBnzLg+UmNtXysyHnFm0Ljm9U3rmrzTV23Aamh8V0OjF70U6rgb9M8ZBv56cD8uluuBF8S+1s23gIeMmRcPyq/yoHHNEXz6L03Ja2g8N+nSMDpuza5hbjZ/PbgfN8v1wAtiX+vmWxo7Cg9hzMbSsxunnjHT+lbz6/v6e2w4L2hWIHDN73qd15DYNrpwv1TNSlu5fD66Tgces06ApoyKg2YFAtdcDjy8hsTR5k3UBHnS2NZ8dJ2uscVdjfhMn6whNcbi1PrsWGStG84PmsbsRLyeDZxs/OhOJVGz0lYun08TnRmgKaddQBOcX9AGTjRWdKeSqHk7l8+3fu+JzcubPgpF49QaMq6Pjb8KnQPtaPYGjTQfQFNKx97R7A0aaT7BHCzRtRqn1lBofW/k5gWNvU7OPoKGprsbw5ZGj/l7uDH5jCYFD6qtXBq7+ejh8H3o7BhAU0bFQWOvk7OFoAnCrydTX+sxfw83tpxXmHg5o0k1J/VWLo3dfPTwderbyH3DddtnSv7Xie4w6JyZ1qfnp9ct+KLrCZ0ZNFp2d+K3ViyHfGVphkEAga/TttDZggfVVq4Uk/nmr3zmdyi/yoNG237i+78py7HgcWN13wuN5uu0LXS2mpN6K1eKyXzJZqW56d2DA6jPo3O+sp5X1seuBzVpfwia35V5AaH8ygca+D8aoGECaMoIoDm3ARomgKaMAJpzG6CBdhFAc24DNNAuSoEGPoe5VqCB4RyGICocUkAQVFwADQRBxQXQQBBUXAANBEHFBdBAEFRYSv0BCuOBJeYWRV0AAAAASUVORK5CYII=" alt="propbind"></p> <h3 id="使用-v-for-帶入屬性"><a href="#使用-v-for-帶入屬性" aria-hidden="true" class="header-anchor">#</a> 使用 <code>v-for</code> 帶入屬性</h3> <p>大部分的時候我們都會是有一包資料，這包資料中的每一筆都有多個屬性，因此想要在頁面上顯示這樣的資料時，可以使用組件跟 <code>v-for</code> 的組合來完成。</p> <p>例如，我們需要有多個計數器，每個計數器會有<strong>一個標題</strong>及<strong>一對加減按紐</strong>:</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'counter'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    &lt;div&gt;
      &lt;h3&gt;{{title}}&lt;/h3&gt;
      &lt;button @click=&quot;count+=1&quot;&gt;{{plusBtnName}}&lt;/button&gt;
      &lt;button @click=&quot;count-=1&quot;&gt;{{minusBtnName}}&lt;/button&gt;
      Count: {{count}}
    &lt;div&gt;
  `</span></span><span class="token punctuation">,</span>
  props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">,</span> <span class="token string">'plusBtnName'</span><span class="token punctuation">,</span> <span class="token string">'minusBtnName'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function-variable function">data</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      count<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>註冊 <code>counter</code> 組件，這個組件有三個 <code>props</code> 屬性: <code>title</code> 、 <code>plusBtnName</code> 及 <code>minusBtnName</code> 。</p> <p>接著在 <code>new Vue</code> 實體上設定 <code>v-for</code> 要巡覽的資料:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    counters<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>        
      title<span class="token punctuation">:</span> <span class="token string">'Counter'</span><span class="token punctuation">,</span>
      plusBtnName<span class="token punctuation">:</span> <span class="token string">'+'</span><span class="token punctuation">,</span>
      minusBtnName<span class="token punctuation">:</span> <span class="token string">'-'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      title<span class="token punctuation">:</span> <span class="token string">'Counter'</span><span class="token punctuation">,</span>
      plusBtnName<span class="token punctuation">:</span> <span class="token string">'Plus'</span><span class="token punctuation">,</span>
      minusBtnName<span class="token punctuation">:</span> <span class="token string">'Minus'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      title<span class="token punctuation">:</span> <span class="token string">'計數器'</span><span class="token punctuation">,</span>
      plusBtnName<span class="token punctuation">:</span> <span class="token string">'加'</span><span class="token punctuation">,</span>
      minusBtnName<span class="token punctuation">:</span> <span class="token string">'減'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>接著在模板上配置 <code>v-for</code> 屬性渲染頁面:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>counter</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>counter in counters<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>counter.title<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name">:plus-btn-name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>counter.plusBtnName<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name">:minus-btn-name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>counter.minusBtnName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>counter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>這樣就可以完成設置了，結果如下圖:</p> <p><img src="data:image/png;base64,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" alt="for"></p> <h3 id="減少傳入的屬性量"><a href="#減少傳入的屬性量" aria-hidden="true" class="header-anchor">#</a> 減少傳入的屬性量</h3> <p>上例我們設定了三個屬性要傳入子組件中，可是它們都屬於 <code>counter</code> 資料物件，因此我們可以直接傳入 <code>coounter</code> 物件就好。</p> <p>修改 <code>counter</code> 組件設置如下:</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'counter-simple'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    &lt;div&gt;
      &lt;h3&gt;{{counter.title}}&lt;/h3&gt;
      &lt;button @click=&quot;count+=1&quot;&gt;{{counter.plusBtnName}}&lt;/button&gt;
      &lt;button @click=&quot;count-=1&quot;&gt;{{counter.minusBtnName}}&lt;/button&gt;
      Count: {{count}}
    &lt;div&gt;
  `</span></span><span class="token punctuation">,</span>
  props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'counter'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>   <span class="token comment">// 簡化為 counter 屬性</span>
  <span class="token function-variable function">data</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      count<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>counter-simple</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>counter in counters<span class="token punctuation">&quot;</span></span>
                  <span class="token attr-name">:counter</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>counter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>counter-simple</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>父組件只需要傳入 <code>counter</code> 屬性。</p> <h2 id="使用-emit-反應子組件中的變化"><a href="#使用-emit-反應子組件中的變化" aria-hidden="true" class="header-anchor">#</a> 使用 <code>$emit</code> 反應子組件中的變化</h2> <p>當事件或是監聽器觸發時，子組件可以用 <code>$emit</code> 方法將變化反應給父組件知道。</p> <p>還是以 <code>button-counter</code> 為例:</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'button-counter'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    &lt;button @click=&quot;clickPlus&quot;&gt;
      {{buttonName}} {{count}} times
    &lt;/button&gt;
  `</span></span><span class="token punctuation">,</span>
  props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'buttonName'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function-variable function">data</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      count<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">clickPlus</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'click-plus'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>click</code> 事件改為叫用 <code>clickPlus</code> 方法，這個方法做了兩件事:</p> <ul><li>將 <code>count</code> 加一。</li> <li>叫用父組件的 <code>click-plus</code> 事件。</li></ul> <p>接著只要在父組件中的 <code>button-counter</code> 中設定 <code>click-plus</code> 事件的綁定就可以監看此事件:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  {{count}}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button-counter</span> <span class="token attr-name">button-name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Click me<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click-plus</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>count += 1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button-counter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>如此一來我們就可以更新父組件內的 <code>count</code> 了。</p> <h3 id="將子組件中的資料傳給父組件"><a href="#將子組件中的資料傳給父組件" aria-hidden="true" class="header-anchor">#</a> 將子組件中的資料傳給父組件</h3> <p>剛剛的例子有一個問題: 父組件的 <code>count</code> 並沒有跟 <code>button-counter</code> 中的 <code>count</code> 同步，為了解決這個問題，我們可以將 <code>button-counter</code> 內的 <code>count</code> 傳給父組件。</p> <div class="language-js extra-class"><pre class="language-js"><code>methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">clickPlus</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'click-plus'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>$emit</code> 第二個參數傳入想要傳給父組件的資料，這裡是 <code>count</code> 。</p> <p>接著在父組件中使用 <code>$event</code> 當作傳回的資料做處理:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button-counter</span> <span class="token attr-name">button-name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Click me<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click-plus</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>count=$event<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button-counter</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>如果使用方法名稱的方式設定客製事件，第一個參數就是傳入的資料:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button-counter</span> <span class="token attr-name">button-name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Click me<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click-plus</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>clickPlus<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button-counter</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function">clickPlus</span><span class="token punctuation">(</span><span class="token parameter">count</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> count
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如此一來就解決了同步的問題。</p> <h2 id="在組件上使用-v-model"><a href="#在組件上使用-v-model" aria-hidden="true" class="header-anchor">#</a> 在組件上使用 <code>v-model</code></h2> <p>在來複習 <code>v-model</code> ，它是雙向綁定的屬性，如下面的範例設定:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inputSomething<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>v-model</code> 其實是 <code>value</code> 及 <code>@input</code> 的語法糖，也就是提供開發者叫簡潔的定義方式，所以他原本是:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inputSomething<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inputSomething=$event.target.value<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>將 <code>value</code> 屬性的資料綁定到 DOM 元素上的 <code>value</code> 。</li> <li><code>input</code> 事件觸發時將 <code>value</code> 的資料改為新的值。</li></ul> <p>因此要在客製的 <code>input</code> 組件上使用 <code>v-model</code> 的話，需要做下面三點設定:</p> <ul><li>傳入 <code>value</code> 客製屬性。</li> <li>在目標 DOM 元素上將傳入的 <code>value</code> 客製屬性綁定到 DOM 元素上的 <code>value</code> 屬性。</li> <li>在目標 DOM 元素更新資料，也就是觸發 <code>input</code> 事件的時候，使用 <code>$emit</code> 觸發上層的 <code>input</code> 事件，並帶入改變後的值。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'custom-input'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    &lt;div&gt;
      &lt;h3&gt;{{title}}&lt;/h3&gt;
      &lt;input :value=&quot;value&quot;
             @input=&quot;$emit('input', $event.target.value)&quot;&gt;
    &lt;div&gt;
  `</span></span><span class="token punctuation">,</span>
  props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>接著在父組件上的 <code>custom-input</code> 設定 <code>v-model</code> 屬性:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inputSomething<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>記住 <code>v-model</code> 是 <code>:value</code> 及 <code>@input</code> 的語法糖， <code>inputSomething</code> 會綁定 <code>value</code> 的值，並且會隨 <code>input</code> 事件所更新。</p> <h2 id="demo"><a href="#demo" aria-hidden="true" class="header-anchor">#</a> DEMO</h2> <ul><li><a href="https://codepen.io/peterhpchen/pen/zMxxwg" target="_blank" rel="noopener noreferrer">CodePen<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="結語"><a href="#結語" aria-hidden="true" class="header-anchor">#</a> 結語</h2> <p>本文承接前一篇介紹的組件，更進一步的說明組件間的傳遞方式，上對下的是使用 <code>props</code> 屬性，下對上使用 <code>$emit</code> 方法，而最後透過已學習到的組件傳遞方式講述 <code>v-model</code> 在組件上如何使用。</p> <p>到這章為止，基本的 Vue.js 使用方式已經有了較全面的了解，可以開始著手些一個小專案了，接下來我們將深入講解組件各式各樣的設定。</p> <h2 id="參考資料"><a href="#參考資料" aria-hidden="true" class="header-anchor">#</a> 參考資料</h2> <ul><li><a href="https://vuejs.org/v2/guide/components.html" target="_blank" rel="noopener noreferrer">Vue.js Guide: Components Basics<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/VuejsQuest/basic/20_ComponentBasic.html" class="prev">
          組件基礎
        </a></span> <span class="next"><a href="/VuejsQuest/basic/22_ComponentRegistration.html">
          組件註冊
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/VuejsQuest/assets/js/app.817b13d4.js" defer></script><script src="/VuejsQuest/assets/js/7.0152acd3.js" defer></script>
  </body>
</html>
