<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>動態組件 | 勇者鬥 Vue 龍</title>
    <meta name="description" content="Vue.js 學習之旅">
    <link rel="icon" href="/VuejsQuest/logo.ico">
    
    <link rel="preload" href="/VuejsQuest/assets/css/0.styles.fd938c14.css" as="style"><link rel="preload" href="/VuejsQuest/assets/js/app.817b13d4.js" as="script"><link rel="preload" href="/VuejsQuest/assets/js/14.3e2587a1.js" as="script"><link rel="prefetch" href="/VuejsQuest/assets/js/10.16136e20.js"><link rel="prefetch" href="/VuejsQuest/assets/js/11.506670dd.js"><link rel="prefetch" href="/VuejsQuest/assets/js/12.a8d35a47.js"><link rel="prefetch" href="/VuejsQuest/assets/js/13.d338f4bc.js"><link rel="prefetch" href="/VuejsQuest/assets/js/15.0be56e6f.js"><link rel="prefetch" href="/VuejsQuest/assets/js/16.db74247e.js"><link rel="prefetch" href="/VuejsQuest/assets/js/17.b67370f7.js"><link rel="prefetch" href="/VuejsQuest/assets/js/18.41e67b09.js"><link rel="prefetch" href="/VuejsQuest/assets/js/19.167f4bf8.js"><link rel="prefetch" href="/VuejsQuest/assets/js/2.955f0450.js"><link rel="prefetch" href="/VuejsQuest/assets/js/20.575b98d7.js"><link rel="prefetch" href="/VuejsQuest/assets/js/21.a8426620.js"><link rel="prefetch" href="/VuejsQuest/assets/js/22.13ec14d4.js"><link rel="prefetch" href="/VuejsQuest/assets/js/23.4d300e01.js"><link rel="prefetch" href="/VuejsQuest/assets/js/24.c8201226.js"><link rel="prefetch" href="/VuejsQuest/assets/js/25.bc9fc394.js"><link rel="prefetch" href="/VuejsQuest/assets/js/26.669956fb.js"><link rel="prefetch" href="/VuejsQuest/assets/js/27.de3abd9d.js"><link rel="prefetch" href="/VuejsQuest/assets/js/28.08e80438.js"><link rel="prefetch" href="/VuejsQuest/assets/js/29.1197778c.js"><link rel="prefetch" href="/VuejsQuest/assets/js/3.842ece7f.js"><link rel="prefetch" href="/VuejsQuest/assets/js/30.d476bbd7.js"><link rel="prefetch" href="/VuejsQuest/assets/js/31.4152fa13.js"><link rel="prefetch" href="/VuejsQuest/assets/js/32.0495ec4c.js"><link rel="prefetch" href="/VuejsQuest/assets/js/33.058ef5ec.js"><link rel="prefetch" href="/VuejsQuest/assets/js/34.dcabd0aa.js"><link rel="prefetch" href="/VuejsQuest/assets/js/35.a6b53978.js"><link rel="prefetch" href="/VuejsQuest/assets/js/36.79f8b591.js"><link rel="prefetch" href="/VuejsQuest/assets/js/37.425abbd6.js"><link rel="prefetch" href="/VuejsQuest/assets/js/38.ff7559cb.js"><link rel="prefetch" href="/VuejsQuest/assets/js/39.d5c5ac50.js"><link rel="prefetch" href="/VuejsQuest/assets/js/4.f442a717.js"><link rel="prefetch" href="/VuejsQuest/assets/js/5.085c76e4.js"><link rel="prefetch" href="/VuejsQuest/assets/js/6.24ea4628.js"><link rel="prefetch" href="/VuejsQuest/assets/js/7.0152acd3.js"><link rel="prefetch" href="/VuejsQuest/assets/js/8.160c573f.js"><link rel="prefetch" href="/VuejsQuest/assets/js/9.3a530d1f.js">
    <link rel="stylesheet" href="/VuejsQuest/assets/css/0.styles.fd938c14.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/VuejsQuest/" class="home-link router-link-active"><!----> <span class="site-name">勇者鬥 Vue 龍</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/VuejsQuest/basic/01_Preface.html" class="nav-link">基礎</a></div> <a href="https://github.com/peterhpchen/VuejsQuest" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/VuejsQuest/basic/01_Preface.html" class="nav-link">基礎</a></div> <a href="https://github.com/peterhpchen/VuejsQuest" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/VuejsQuest/basic/01_Preface.html" class="sidebar-link">踏上旅程之前</a></li><li><a href="/VuejsQuest/basic/02_FirstVue.html" class="sidebar-link">初探 Vue.js</a></li><li><a href="/VuejsQuest/basic/03_Instance.html" class="sidebar-link">Vue 實例</a></li><li><a href="/VuejsQuest/basic/04_Lifecycle.html" class="sidebar-link">Vue 實體的生命週期</a></li><li><a href="/VuejsQuest/basic/05_Mustache.html" class="sidebar-link">模板語法 Part 1 - Mustache 標籤</a></li><li><a href="/VuejsQuest/basic/06_Directives.html" class="sidebar-link">模板語法 Part 2 - Directives</a></li><li><a href="/VuejsQuest/basic/07_Computed.html" class="sidebar-link">計算屬性</a></li><li><a href="/VuejsQuest/basic/08_Watcher.html" class="sidebar-link">監聽器( watch )</a></li><li><a href="/VuejsQuest/basic/09_ComputedVSWatch.html" class="sidebar-link">計算屬性與監聽器的比較</a></li><li><a href="/VuejsQuest/basic/10_Class.html" class="sidebar-link">Class 的綁定</a></li><li><a href="/VuejsQuest/basic/11_Style.html" class="sidebar-link">樣式綁定</a></li><li><a href="/VuejsQuest/basic/12_Conditional.html" class="sidebar-link">條件渲染</a></li><li><a href="/VuejsQuest/basic/13_For.html" class="sidebar-link">列表渲染</a></li><li><a href="/VuejsQuest/basic/14_Reactivity.html" class="sidebar-link">響應系統</a></li><li><a href="/VuejsQuest/basic/15_Set.html" class="sidebar-link">使用 set 新增實體中的屬性</a></li><li><a href="/VuejsQuest/basic/16_Event.html" class="sidebar-link">事件處理</a></li><li><a href="/VuejsQuest/basic/17_EventModifier.html" class="sidebar-link">v-on 的修飾符 Part 1 - 事件修飾符</a></li><li><a href="/VuejsQuest/basic/18_KeyModifier.html" class="sidebar-link">v-on 的修飾符 Part 2 - 按鍵修飾符</a></li><li><a href="/VuejsQuest/basic/19_FormInputBinding.html" class="sidebar-link">表單綁定</a></li><li><a href="/VuejsQuest/basic/20_ComponentBasic.html" class="sidebar-link">組件基礎</a></li><li><a href="/VuejsQuest/basic/21_ComponentData.html" class="sidebar-link">組件間的資料傳輸</a></li><li><a href="/VuejsQuest/basic/22_ComponentRegistration.html" class="sidebar-link">組件註冊</a></li><li><a href="/VuejsQuest/basic/23_Props.html" class="sidebar-link">props 屬性</a></li><li><a href="/VuejsQuest/basic/24_PropsValidation.html" class="sidebar-link">屬性驗證</a></li><li><a href="/VuejsQuest/basic/25_PropsAttribute.html" class="sidebar-link">屬性注意事項</a></li><li><a href="/VuejsQuest/basic/26_CustomEvent.html" class="sidebar-link">客製事件</a></li><li><a href="/VuejsQuest/basic/27_Slots.html" class="sidebar-link">插槽</a></li><li><a href="/VuejsQuest/basic/28_KeepAlive.html" class="active sidebar-link">動態組件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/VuejsQuest/basic/28_KeepAlive.html#會消失的組件狀態" class="sidebar-link">會消失的組件狀態</a></li><li class="sidebar-sub-header"><a href="/VuejsQuest/basic/28_KeepAlive.html#建立永存的組件" class="sidebar-link">建立永存的組件</a></li><li class="sidebar-sub-header"><a href="/VuejsQuest/basic/28_KeepAlive.html#activated-及-deactivated-鉤子函數" class="sidebar-link">activated 及 deactivated 鉤子函數</a></li><li class="sidebar-sub-header"><a href="/VuejsQuest/basic/28_KeepAlive.html#include-及-exclude-屬性" class="sidebar-link">include 及 exclude 屬性</a></li><li class="sidebar-sub-header"><a href="/VuejsQuest/basic/28_KeepAlive.html#max-屬性" class="sidebar-link">max 屬性</a></li><li class="sidebar-sub-header"><a href="/VuejsQuest/basic/28_KeepAlive.html#demo" class="sidebar-link">DEMO</a></li><li class="sidebar-sub-header"><a href="/VuejsQuest/basic/28_KeepAlive.html#結語" class="sidebar-link">結語</a></li><li class="sidebar-sub-header"><a href="/VuejsQuest/basic/28_KeepAlive.html#參考資料" class="sidebar-link">參考資料</a></li></ul></li><li><a href="/VuejsQuest/basic/29_AsyncComponent.html" class="sidebar-link">非同步組件</a></li><li><a href="/VuejsQuest/basic/31_AccessOtherComponent.html" class="sidebar-link">尋訪其他組件</a></li><li><a href="/VuejsQuest/basic/32_DependencyInjection.html" class="sidebar-link">依賴注入</a></li><li><a href="/VuejsQuest/basic/33_EventListeners.html" class="sidebar-link">事件監聽器</a></li><li><a href="/VuejsQuest/basic/34_Template.html" class="sidebar-link">模板定義</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="動態組件"><a href="#動態組件" aria-hidden="true" class="header-anchor">#</a> 動態組件</h1> <p>前面在講組件基礎時有提到在 <code>&lt;component&gt;</code> 中加上 <code>is</code> 的屬性，綁定一個變數，這個 <code>&lt;component&gt;</code> 元素就會依照這個變數去尋找相同名字的組件渲染到頁面上。</p> <p>如下面的例子所示:</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    &lt;div&gt;
      &lt;input&gt;
      &lt;span&gt;m&lt;/span&gt;
    &lt;/div&gt;
  `</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'high'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    &lt;div&gt;
      &lt;input&gt;
      &lt;span&gt;m&lt;/span&gt;
    &lt;/div&gt;
  `</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    inputComponent<span class="token punctuation">:</span> <span class="token string">'high'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inputComponent='high'<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>High<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inputComponent='width'<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Width<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inputComponent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>這裡註冊了兩個組件: <code>high</code> 及 <code>width</code> ，而在父組件中使用 <code>&lt;component :is=&quot;inputComponent&quot;&gt;</code> 來設定組件目標要依照 <code>inputComponent</code> 的組件來渲染頁面。</p> <p>如此一來在我們點擊不同的按鈕時， <code>&lt;component&gt;</code> 會因 <code>inputComponent</code> 的改變而渲染不同的組件。</p> <h2 id="會消失的組件狀態"><a href="#會消失的組件狀態" aria-hidden="true" class="header-anchor">#</a> 會消失的組件狀態</h2> <p>上面的例子有一個問題，當你輸入了高度後切換到重量，再切回高度時，原本輸入的資料就會消失。</p> <p>這是因為組件的每一次切換都會建立一個新的組件實體，這表示你切到重量時，高度的組件已經被銷毀，而切回來所看到的組件已經是一個全新的高度組件了。</p> <p>這在大部分的組件使用情境中是適用的，因為你改變了要渲染的組件，代表之前的組件已經不需要使用了，而渲染出來的組件也需要是全新的狀態，不能殘留之前留下的資料，所以銷毀及重建組件的行為是合理的。</p> <p>但像是需要反覆來回切換的組件就有可能會需要保留之前的值，例如有一個網頁是個問券，裡面有分好幾類，如果你填完了一類，之後想要在回去看之前填好的類別，這時如果資料狀態不能保留，勢必就會造成開發上的困擾。</p> <h2 id="建立永存的組件"><a href="#建立永存的組件" aria-hidden="true" class="header-anchor">#</a> 建立永存的組件</h2> <p><code>&lt;keep-alive&gt;</code> 標籤創造了一個區塊，這個區塊中所有的組件都不會銷毀。</p> <p>我們將剛剛的例子加上 <code>&lt;keep-alive&gt;</code> :</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inputComponent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>我們可以觀察再加上 <code>&lt;keep-alive&gt;</code> 後，切換組件時不會觸發 <code>destroyed</code> 鉤子函數，代表組件沒有被銷毀，所以高度及重量的數值在切換後都會被保留。</p> <p><code>&lt;keep-alive&gt;</code> 中也可以放一般的組件，下面的例子使用 <code>v-if</code> 判斷要使用哪個組件:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>high</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inputComponent==='high'<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>high</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>width</span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>width</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="activated-及-deactivated-鉤子函數"><a href="#activated-及-deactivated-鉤子函數" aria-hidden="true" class="header-anchor">#</a> <code>activated</code> 及 <code>deactivated</code> 鉤子函數</h2> <p>在 <code>&lt;keep-alive&gt;</code> 內的所有組件都會被加上 <code>activated</code> 及 <code>deactivated</code> 鉤子函數，他們觸發在組件啟用及休眠時。</p> <p>在 <code>high</code> 中加上 <code>activated</code> 及 <code>deactivated</code> 鉤子函數:</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'high'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    &lt;div&gt;
      &lt;input&gt;
      &lt;span&gt;m&lt;/span&gt;
    &lt;/div&gt;
  `</span></span><span class="token punctuation">,</span>
  <span class="token function-variable function">mounted</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'high mounted'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">destroyed</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'high destroyed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">activated</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'high activated'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">deactivated</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'high deactivated'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>可以看到一開始 <code>activated</code> 會被叫用，如果切換到 <code>width</code> 時就會叫用 <code>deactivated</code> 。</p> <h2 id="include-及-exclude-屬性"><a href="#include-及-exclude-屬性" aria-hidden="true" class="header-anchor">#</a> <code>include</code> 及 <code>exclude</code> 屬性</h2> <p>在 <code>&lt;keep-alive&gt;</code> 上可以使用 <code>include</code> 屬性設定只有那些組件要做 cached ，而 <code>exclue</code> 則是設定那些組件不要做 cached 。</p> <p>如下例所示:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span> <span class="token attr-name">include</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>high<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inputComponent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>這樣的設定表示只有 <code>high</code> 組件要 cached ，而 <code>width</code> 則不會被保存。</p> <p>下圖是原本在 <code>high</code> ，然後切換到 <code>width</code> ，之後在切換回來的鉤子函數叫用的情形:</p> <p><img src="data:image/png;base64,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" alt="include"></p> <p>可以看到 <code>width</code> 在切換回 <code>high</code> 時已經被銷毀了。</p> <p>如果要設定多個 <code>include</code> 組件的話可以使用<strong>逗號分隔</strong>組件名稱:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span> <span class="token attr-name">include</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>high,width<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inputComponent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>如此一來 <code>high</code> 及 <code>width</code> 組件都會包含了。</p> <h3 id="使用正規表達式設定"><a href="#使用正規表達式設定" aria-hidden="true" class="header-anchor">#</a> 使用正規表達式設定</h3> <p><code>include</code> 及 <code>exclude</code> 屬性除了直接寫出完整的名稱外，還可以使用<strong>正規表達式</strong>設定:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span> <span class="token attr-name">:include</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/high|width/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inputComponent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>使用正規表達式時記得因為不是直接綁定字串，所以要使用 <code>v-bind</code> 。</p> <h3 id="使用陣列設定"><a href="#使用陣列設定" aria-hidden="true" class="header-anchor">#</a> 使用陣列設定</h3> <p><code>include</code> 及 <code>exclude</code> 屬性還可以使用<strong>陣列</strong>設定:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span> <span class="token attr-name">:include</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>['high']<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inputComponent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>與正規表達式相同，因為不是字串所以要使用 <code>v-bind</code> 綁定。</p> <h2 id="max-屬性"><a href="#max-屬性" aria-hidden="true" class="header-anchor">#</a> <code>max</code> 屬性</h2> <p>同時保留過多的組件會產生效能問題，為此 <code>max</code> 屬性可以設定最多要保留的組件數量。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span> <span class="token attr-name">include</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>high,width,weight<span class="token punctuation">&quot;</span></span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inputComponent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>我們加上一個 <code>weight</code> 組件，接著看看切換時會如何運作:</p> <p><img src="data:image/png;base64,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" alt="max"></p> <p>依序按下 <code>Width</code> 及 <code>Weight</code> ，可以看到在按到 <code>Weight</code> 時因為組件數量超過 <code>2</code> ，所以在駐列中最前面(也就是最先被產生的)的 <code>high</code> 組件被銷毀了。</p> <h2 id="demo"><a href="#demo" aria-hidden="true" class="header-anchor">#</a> DEMO</h2> <ul><li><a href="https://codepen.io/peterhpchen/pen/GwjQwp" target="_blank" rel="noopener noreferrer">CodePen<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="結語"><a href="#結語" aria-hidden="true" class="header-anchor">#</a> 結語</h2> <p>這章講述了 <code>&lt;keep-alive&gt;</code> 的功能及使用方式，它是確保組件在切換時不會被銷毀的標籤，可以使用 <code>include</code> 及 <code>exclued</code> 屬性設定特定組件的保留或是排除，也可以使用 <code>max</code> 屬性確保組件保留的數量。</p> <h2 id="參考資料"><a href="#參考資料" aria-hidden="true" class="header-anchor">#</a> 參考資料</h2> <ul><li><a href="https://vuejs.org/v2/guide/components-dynamic-async.html#keep-alive-with-Dynamic-Components" target="_blank" rel="noopener noreferrer">Vue.js Guide: <code>keep-alive</code> with Dynamic Components<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://vuejs.org/v2/api/#keep-alive" target="_blank" rel="noopener noreferrer">Vue.js API: keep-alive<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/VuejsQuest/basic/27_Slots.html" class="prev">
          插槽
        </a></span> <span class="next"><a href="/VuejsQuest/basic/29_AsyncComponent.html">
          非同步組件
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/VuejsQuest/assets/js/app.817b13d4.js" defer></script><script src="/VuejsQuest/assets/js/14.3e2587a1.js" defer></script>
  </body>
</html>
