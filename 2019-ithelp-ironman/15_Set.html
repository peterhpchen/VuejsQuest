<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>使用 set 新增實體中的屬性 | 勇者鬥 Vue 龍</title>
    <meta name="description" content="Vue.js 學習之旅">
    <link rel="icon" href="/VuejsQuest/logo.ico">
    
    <link rel="preload" href="/VuejsQuest/assets/css/0.styles.9be503db.css" as="style"><link rel="preload" href="/VuejsQuest/assets/js/app.aeb81514.js" as="script"><link rel="preload" href="/VuejsQuest/assets/js/5.1c367279.js" as="script"><link rel="prefetch" href="/VuejsQuest/assets/js/10.98fc5cb8.js"><link rel="prefetch" href="/VuejsQuest/assets/js/11.c52c5261.js"><link rel="prefetch" href="/VuejsQuest/assets/js/12.a678b498.js"><link rel="prefetch" href="/VuejsQuest/assets/js/13.c0fc30bb.js"><link rel="prefetch" href="/VuejsQuest/assets/js/14.fef5e1d2.js"><link rel="prefetch" href="/VuejsQuest/assets/js/15.a26e3fe9.js"><link rel="prefetch" href="/VuejsQuest/assets/js/16.71f3dadb.js"><link rel="prefetch" href="/VuejsQuest/assets/js/17.411d6603.js"><link rel="prefetch" href="/VuejsQuest/assets/js/18.4844d30f.js"><link rel="prefetch" href="/VuejsQuest/assets/js/19.d06828a9.js"><link rel="prefetch" href="/VuejsQuest/assets/js/2.0d82a566.js"><link rel="prefetch" href="/VuejsQuest/assets/js/20.eaa35394.js"><link rel="prefetch" href="/VuejsQuest/assets/js/21.b837777c.js"><link rel="prefetch" href="/VuejsQuest/assets/js/22.28102a55.js"><link rel="prefetch" href="/VuejsQuest/assets/js/23.6a1e9210.js"><link rel="prefetch" href="/VuejsQuest/assets/js/24.a6a5b41f.js"><link rel="prefetch" href="/VuejsQuest/assets/js/25.6f23811d.js"><link rel="prefetch" href="/VuejsQuest/assets/js/26.59b4d7d5.js"><link rel="prefetch" href="/VuejsQuest/assets/js/27.b0d10f57.js"><link rel="prefetch" href="/VuejsQuest/assets/js/28.39265349.js"><link rel="prefetch" href="/VuejsQuest/assets/js/29.ddde03d4.js"><link rel="prefetch" href="/VuejsQuest/assets/js/3.990e1d2c.js"><link rel="prefetch" href="/VuejsQuest/assets/js/30.b3b82dfb.js"><link rel="prefetch" href="/VuejsQuest/assets/js/31.09685655.js"><link rel="prefetch" href="/VuejsQuest/assets/js/32.845c9f59.js"><link rel="prefetch" href="/VuejsQuest/assets/js/33.4210b376.js"><link rel="prefetch" href="/VuejsQuest/assets/js/34.362889b6.js"><link rel="prefetch" href="/VuejsQuest/assets/js/35.1942c82a.js"><link rel="prefetch" href="/VuejsQuest/assets/js/36.29b0183e.js"><link rel="prefetch" href="/VuejsQuest/assets/js/37.dbb0a0ff.js"><link rel="prefetch" href="/VuejsQuest/assets/js/4.aa2e3040.js"><link rel="prefetch" href="/VuejsQuest/assets/js/6.a7c697d2.js"><link rel="prefetch" href="/VuejsQuest/assets/js/7.c209a569.js"><link rel="prefetch" href="/VuejsQuest/assets/js/8.d4532214.js"><link rel="prefetch" href="/VuejsQuest/assets/js/9.2fab3716.js">
    <link rel="stylesheet" href="/VuejsQuest/assets/css/0.styles.9be503db.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/VuejsQuest/" class="home-link router-link-active"><!----> <span class="site-name">勇者鬥 Vue 龍</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/VuejsQuest/2019-ithelp-ironman/" class="nav-link router-link-active">2019 iT 邦幫忙鐵人賽</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/VuejsQuest/2019-ithelp-ironman/" class="nav-link router-link-active">2019 iT 邦幫忙鐵人賽</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/VuejsQuest/2019-ithelp-ironman/" class="sidebar-link">2019 iT 邦幫忙鐵人賽</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/01_Preface.html" class="sidebar-link">前言</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/02_FirstVue.html" class="sidebar-link">初探 Vue.js</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/03_Instance.html" class="sidebar-link">Vue 實例</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/04_Lifecycle.html" class="sidebar-link">Vue 實體的生命週期</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/05_Mustache.html" class="sidebar-link">模板語法 Part 1 - Mustache 標籤</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/06_Directives.html" class="sidebar-link">模板語法 Part 2 - Directives</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/07_Computed.html" class="sidebar-link">計算屬性</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/08_Watcher.html" class="sidebar-link">監聽器( watch )</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/09_ComputedVSWatch.html" class="sidebar-link">計算屬性與監聽器的比較</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/10_Class.html" class="sidebar-link">Class 的綁定</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/11_Style.html" class="sidebar-link">樣式綁定</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/12_Conditional.html" class="sidebar-link">條件渲染</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/13_For.html" class="sidebar-link">列表渲染</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/14_Reactivity.html" class="sidebar-link">響應系統</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/15_Set.html" class="active sidebar-link">使用 set 新增實體中的屬性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/VuejsQuest/2019-ithelp-ironman/15_Set.html#vue-無法在建立實體後增加屬性" class="sidebar-link">vue 無法在建立實體後增加屬性</a></li><li class="sidebar-sub-header"><a href="/VuejsQuest/2019-ithelp-ironman/15_Set.html#set-方法" class="sidebar-link">set 方法</a></li><li class="sidebar-sub-header"><a href="/VuejsQuest/2019-ithelp-ironman/15_Set.html#物件新增多個屬性" class="sidebar-link">物件新增多個屬性</a></li><li class="sidebar-sub-header"><a href="/VuejsQuest/2019-ithelp-ironman/15_Set.html#修改陣列內元素" class="sidebar-link">修改陣列內元素</a></li><li class="sidebar-sub-header"><a href="/VuejsQuest/2019-ithelp-ironman/15_Set.html#處理陣列時的響應" class="sidebar-link">處理陣列時的響應</a></li><li class="sidebar-sub-header"><a href="/VuejsQuest/2019-ithelp-ironman/15_Set.html#demo" class="sidebar-link">DEMO</a></li><li class="sidebar-sub-header"><a href="/VuejsQuest/2019-ithelp-ironman/15_Set.html#小結" class="sidebar-link">小結</a></li><li class="sidebar-sub-header"><a href="/VuejsQuest/2019-ithelp-ironman/15_Set.html#參考資料" class="sidebar-link">參考資料</a></li></ul></li><li><a href="/VuejsQuest/2019-ithelp-ironman/16_Event.html" class="sidebar-link">事件處理</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/17_EventModifier.html" class="sidebar-link">v-on 的修飾符 Part 1 - 事件修飾符</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/18_KeyModifier.html" class="sidebar-link">v-on 的修飾符 Part 2 - 按鍵修飾符</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/19_FormInputBinding.html" class="sidebar-link">表單綁定</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/20_ComponentBasic.html" class="sidebar-link">組件基礎</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/21_ComponentData.html" class="sidebar-link">組件間的資料傳輸</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/22_ComponentRegistration.html" class="sidebar-link">組件註冊</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/23_Props.html" class="sidebar-link">props 屬性</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/24_PropsValidation.html" class="sidebar-link">屬性驗證</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/25_PropsAttribute.html" class="sidebar-link">屬性注意事項</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/26_CustomEvent.html" class="sidebar-link">客製事件</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/27_Slots.html" class="sidebar-link">插槽</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/28_KeepAlive.html" class="sidebar-link">動態組件</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/29_AsyncComponent.html" class="sidebar-link">非同步組件</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/30_End.html" class="sidebar-link">結尾</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/31_AccessOtherComponent.html" class="sidebar-link">尋訪其他組件</a></li><li><a href="/VuejsQuest/2019-ithelp-ironman/32_DependencyInjection.html" class="sidebar-link">依賴注入</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="使用-set-新增實體中的屬性"><a href="#使用-set-新增實體中的屬性" aria-hidden="true" class="header-anchor">#</a> 使用 <code>set</code> 新增實體中的屬性</h1> <p>在 vue 中，建立實體後才加入的屬性因為沒有被給予 getter 及 setter ，所以不會被響應系統察覺，但使用 <code>set</code> 方法加入的屬性則會被賦予 getter 及 setter ，因此使用 <code>set</code> 加入的屬性都可以被響應在頁面上。</p> <h2 id="vue-無法在建立實體後增加屬性"><a href="#vue-無法在建立實體後增加屬性" aria-hidden="true" class="header-anchor">#</a> vue 無法在建立實體後增加屬性</h2> <p>只有一開始定義在選項物件上的屬性才會被 vue 當作響應物件，其他未在選項物件上的屬性都無法用直接加入的方式使其成為響應物件。</p> <p>可以用下面的例子來說明這情形:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        el<span class="token punctuation">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
        data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            a<span class="token punctuation">:</span> <span class="token number">1</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>這裡我們在實體上設了兩個屬性: <code>a</code> 、 <code>b</code> ，其中 <code>a</code> 是用選項物件上的 <code>data</code> 設定，而 <code>b</code> 是在 <code>created</code> 鉤子函數裡直接在實體( <code>this</code> )中新增。</p> <p>頁面的配置如下:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    a: {{a}}, b: {{b}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>配置好之後，我們依序對 <code>a</code> 及 <code>b</code> 做加一的動作，得到的結果如下:</p> <p><img src="data:image/png;base64,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" alt="notreactivity"></p> <p>在 <code>a</code> 做加一後，頁面會響應變化，可是輪到 <code>b</code> 的時候頁面卻不會刷新。</p> <p>這個原因在前面有提過，是因為之後設置的屬性不會有 getter 及 setter ，我們可以觀察實體來確認這件事，在 Console 鍵入 <code>vm</code> 可以看到實體中的屬性，你會發現實體中只有 <code>a</code> 的 <code>get</code> 及 <code>set</code> 方法。</p> <p><img src="/VuejsQuest/assets/img/instanceprop.26b62051.png" alt="instanceprop"></p> <p>為了使新加入的屬性擁有 getter 及 setter ，我們要使用 <code>set</code> 方法。</p> <h2 id="set-方法"><a href="#set-方法" aria-hidden="true" class="header-anchor">#</a> <code>set</code> 方法</h2> <p><code>set</code> 方法可以在響應物件上加上屬性，使得此屬性也是響應的，但 <code>set</code> 有一個限制: <strong>對象不能是 Vue 實體或是 Vue 實體的 root 資料物件</strong>，這項限制代表我們無法將上例的 <code>b</code> 變為響應，因為 Vue 實體的 root 資料物件，但我們能新增資料物件中的屬性，如下例所示:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        el<span class="token punctuation">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
        data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            user<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                firstName<span class="token punctuation">:</span> <span class="token string">'Peter'</span><span class="token punctuation">,</span> <span class="token comment">// reactive</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span>lastName <span class="token operator">=</span> <span class="token string">'Chen'</span><span class="token punctuation">;</span> <span class="token comment">// not reactive</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>設定一個 <code>user</code> 的資料物件，一開始 <code>user</code> 的屬性只有 <code>firstName</code> ，在 <code>created()</code> 時新增了 <code>lastName</code> ，現在設定頁面配置:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        first name: {{user.firstName}}, last name: {{user.lastName}}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>接著分別修改 <code>firstName</code> 及 <code>lastName</code> ，大家復習一下會發生什麼事情:</p> <ul><li><code>firstName</code> 修改的結果<strong>會</strong>響應至頁面上。</li> <li><code>lastName</code> 修改後頁面<strong>不會</strong>響應變化。</li></ul> <p>來看看是不是如此:</p> <p><img src="/VuejsQuest/assets/img/objnotreactivity.d488cab2.png" alt="objnotreactivity"></p> <p>就如上面所述的結果，並且在物件裡因為沒有實體中其他的屬性，我們可以更清楚的看出只有 <code>firstName</code> 有 <code>get</code> 及 <code>set</code> 方法，而 <code>lastName</code> 沒有。</p> <p>這個問題可以透過 <code>set</code> 來處理，其定義如下:</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span> target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value <span class="token punctuation">)</span>
</code></pre></div><ul><li><code>target</code> : 目標物件或是目標陣列。</li> <li><code>key</code> : 目標屬性或是陣列元素位置。</li> <li><code>value</code> : 欲賦予的資料值。</li></ul> <p>現在我們使用 <code>set</code> 將 <code>lastName</code> 加入響應系統中:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        el<span class="token punctuation">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
        data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            user<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                firstName<span class="token punctuation">:</span> <span class="token string">'Peter'</span><span class="token punctuation">,</span> <span class="token comment">// reactive</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token keyword">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>user<span class="token punctuation">,</span> <span class="token string">'lastName'</span><span class="token punctuation">,</span> <span class="token string">'Chen'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>照之前在 Console 上的操作再操作一次，這次 <code>lastName</code> 可以響應在頁面上了。</p> <p><img src="/VuejsQuest/assets/img/reactivity.232584fe.png" alt="reactivity"></p> <h2 id="物件新增多個屬性"><a href="#物件新增多個屬性" aria-hidden="true" class="header-anchor">#</a> 物件新增多個屬性</h2> <p>有時你可能不會只想要新增一個屬性，這時可以有兩種方式:</p> <ul><li>叫用多次 <code>se</code>t 設定每個屬性。</li> <li>使用 <code>Object.assign()</code> 或是 <code>_.extend()</code> 這類合併多個物件的方法。</li></ul> <p>上面已經試過 <code>set</code> 方法了，這次改用 <code>Object.assign</code> 試試看:</p> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>info<span class="token punctuation">,</span> <span class="token punctuation">{</span>lastName<span class="token punctuation">:</span> <span class="token string">'Chen'</span><span class="token punctuation">,</span> account<span class="token punctuation">:</span> <span class="token string">'peter3598768'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>現在用 Console 輸出 <code>vm.info</code> ，結果發現與上例的相同問題: <code>lastName</code> 及 <code>account</code> 沒有 getter 及 setter 。</p> <p>這是因為這樣的方式並沒有改變 <code>info</code> ，只是在上面加了屬性而已，而要解決此問題就是要直接去更新整個 <code>info</code> ，可以將代碼改成下面這樣:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>info <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>info<span class="token punctuation">,</span> <span class="token punctuation">{</span>lastName<span class="token punctuation">:</span> <span class="token string">'Chen'</span><span class="token punctuation">,</span> account<span class="token punctuation">:</span> <span class="token string">'peter3598768'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>我們創了一個全新的空物件，並把 <code>info</code> 及想要加入的屬性合併進去，接著在設定給 <code>info</code> ，這樣一來就可以觸發 <code>info</code> 的 setter 使其重新設置所有的屬性為響應的。</p> <h2 id="修改陣列內元素"><a href="#修改陣列內元素" aria-hidden="true" class="header-anchor">#</a> 修改陣列內元素</h2> <p>陣列的問題跟物件相似，如果直接修改元素或是長度， Vue 會沒辦法響應變化。</p> <blockquote><p>其實陣列就是一個特殊的物件，由鍵值為數字(0,1,2...)的屬性所組成。</p></blockquote> <p>以下面的範例來說:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        el<span class="token punctuation">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
        data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            arr<span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>設置一個 <code>arr</code> 陣列，它有三個元素 <code>a</code> 、 <code>b</code> 及 <code>c</code> ，接著把他們輸出在頁面上:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item in arr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>現在用 <code>vm.arr[0] = 'd'</code> 來修改第一個元素的值，結果如下:</p> <p><img src="data:image/png;base64,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" alt="arrnoreactivity"></p> <p>它並沒有響應在頁面上，這時就要藉由 <code>set</code> 將改變響應至畫面:</p> <div class="language-js extra-class"><pre class="language-js"><code>vm<span class="token punctuation">.</span>$<span class="token keyword">set</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>arr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>當 <code>set</code> 的第一個參數是陣列時，第二個參數就會變為欲修改元素的 <code>index</code> 。</p> <h2 id="處理陣列時的響應"><a href="#處理陣列時的響應" aria-hidden="true" class="header-anchor">#</a> 處理陣列時的響應</h2> <p>在 js 中，陣列提供了許多的處理陣列的方法，這些方法分為兩類:</p> <ul><li>改變自身陣列的結果，稱為 <strong>mutation methods</strong> 。</li> <li>將結果建為新的陣列並當作回傳值， 稱為 <strong>non-mutating methods</strong> 。</li></ul> <p>Vue 封裝了幾個 <strong>mutation methods</strong> ，使陣列執行這些方法後，其結果會響應:</p> <ul><li><code>push()</code></li> <li><code>pop()</code></li> <li><code>shift()</code></li> <li><code>unshift()</code></li> <li><code>splice()</code></li> <li><code>sort()</code></li> <li><code>reverse()</code></li></ul> <p>再來對於那些未封裝的方法，像是 <code>filter()</code> 、 <code>concat()</code> 等等，我們可以仿照物件新增多個屬性時直接更改整個物件的方式，直接重設整個陣列。</p> <blockquote><p>當你重設整個陣列， Vue 並不會重新渲染整個陣列， Vue 會盡可能的重複使用元素，使其不造成浪費。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>vm<span class="token punctuation">.</span>arr <span class="token operator">=</span> vm<span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token keyword">return</span> item <span class="token operator">!==</span> <span class="token string">'c'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如此一來， <code>arr</code> 的 setter 會被觸發，讓頁面重新渲染，因此頁面上就看不到 <code>c</code> 了。</p> <h2 id="demo"><a href="#demo" aria-hidden="true" class="header-anchor">#</a> DEMO</h2> <ul><li><a href="https://github.com/peterhpchen/VuejsQuest/demo/15_Set/index.html" target="_blank" rel="noopener noreferrer">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://codepen.io/peterhpchen/pen/wYZyZX" target="_blank" rel="noopener noreferrer">CodePen<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <blockquote><p>本文建議使用代碼自己跑起來， CodePen 上的 Console 功能陽春，沒辦法像 Chrome 有這麼多的細節。</p></blockquote> <h2 id="小結"><a href="#小結" aria-hidden="true" class="header-anchor">#</a> 小結</h2> <p>本節以新增屬性會遇到的響應問題開始，介紹在物件及陣列上如何做處理才能使結果響應在頁面上。</p> <h2 id="參考資料"><a href="#參考資料" aria-hidden="true" class="header-anchor">#</a> 參考資料</h2> <ul><li><a href="https://pjchender.blogspot.com/2017/05/vue-vue-reactivity.html" target="_blank" rel="noopener noreferrer">[那些關於 Vue 的小細節 ] 為什麼畫面沒有隨資料更新 - Vue 響應式原理（Reactivity）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://medium.com/js-dojo/reactivity-in-vue-js-and-its-pitfalls-de07a29c9407" target="_blank" rel="noopener noreferrer">Reactivity In Vue.js (And Its Pitfalls)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://vuejs.org/v2/guide/list.html" target="_blank" rel="noopener noreferrer">Vue.js Gudie: List Rendering<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://vuejs.org/v2/guide/reactivity.html" target="_blank" rel="noopener noreferrer">Vue.js Gudie: Reactivity in Depth<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://vuejs.org/v2/api/#Vue-set" target="_blank" rel="noopener noreferrer">Vue.js API: set<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/VuejsQuest/2019-ithelp-ironman/14_Reactivity.html" class="prev">
          響應系統
        </a></span> <span class="next"><a href="/VuejsQuest/2019-ithelp-ironman/16_Event.html">
          事件處理
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/VuejsQuest/assets/js/app.aeb81514.js" defer></script><script src="/VuejsQuest/assets/js/5.1c367279.js" defer></script>
  </body>
</html>
