# 第一支 Vue.js

Vue.js 是處理 View Layer 的 Library ，使用 Vue.js 時，我們會操作 View Model (也就是 Vue.js 的實體)使其依照業務邏輯做改變，配合在 HTML 中 Vue.js 提供的模板語法來改變配置，重新渲染後使畫面產生變化。

下圖是一個簡單的架構圖: 

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="791px" version="1.1" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:62.0) Gecko/20100101 Firefox/62.0&quot; version=&quot;9.2.1&quot; editor=&quot;www.draw.io&quot; type=&quot;github&quot;&gt;&lt;diagram id=&quot;25071b21-7ea4-4c03-22c9-f2133408cd28&quot; name=&quot;Page-1&quot;&gt;5VnZctsgFP0aP7YjgRb7MXbqLtPOdJpMmj5iCUtMMHgQ8tKv78VCsjanbqrU6SQvgQNcoXMOcIVHeLbavVdknX6RMeUj5MS7Eb4eIeR6KIB/BtkXSOjjAkgUi22nI3DDflILOhbNWUyzRkctJdds3QQjKQSNdAMjSslts9tS8uZT1yShHeAmIryLfmexTgt0jMIj/oGyJC2f7AaTomVBoodEyVzY540QXh7+iuYVKWPZF81SEsttDcLvRnimpNRFabWbUW64LWkrxs1PtFbzVlTocwagYsCG8JyWMw44DJ3GbAPFxBTvGN2WMISqtdiX0PuSOIgOGkFluk2ZpjdrEpmWLdgEsFSvONRcKJJsXQi3ZDsKk5kupdDWCMh0WDLOZ5JLdQgMLNIgigDPtJIPtNYSh5OF41ST2VCl6e4kHW5FMpiXyhXVag9dygHjt34xxhoXBVao7dEGyLNYWrNABRJrvaQKfqQfClaBfjXw+Wo4dtFdVpXYp+PY61NljBY4CIZRBU3QBUXxzhHlRagB2ww6sUaCReAPpIYfXHaRuG6PIG2KRXxljgGoRZxkGYuazLaJhFdX+3uoOWXlR1nZMX1vR5lyiRePpHHnHGnRCNOSuYpoY7vVRCVU19Z8l+walX4PkyWmKCeabZqT6GPXPuGrZDC948pyGkL6YUufYu52UP0YacUJW3FQK07xwp04B6mrlz5P/b4T6z9RH3fV9y6qPsYN2bDjP01+jMPHA53QH1Qi+1q3temQ/a1D+k7RoRzi1h3i1hzi1BziPtkh3gvbH3znN8Ke65DA9V6QQ/qO9P/EIT17CLqkQzBqOsQbP/EIaZ9FnUD/1CF+xyG3dLUGpiigN3th0qe2ZQDTj5uEcJYI4yhQmKpOoiakMFlhTLLUpHtViFoi5zjhfD4fJpHDzSVZHdr1LM6ZdJ0zSBIXdAi+yw23H0WmiQC3D8Duc3LXOvH6yHP7lt0g5IUd8qZ5xgTNwPfOZ5nAZvXn9J1iq0PrAPQFDm59Q/QSGD4XgeMOgTPOogeAprnWUpxBn6IZ+0kWhw5ma7f7DvT2pyP/2hCXa5kVBPfa0zDIIsKvbIOW5vsvg89BJpJbU7l+450j1Hw+Huj+o7qAe+TLzsU9quAhVJl0VSGHHlefru5fqyTepL1UekVxn0mUclnWRPlGda7EIXXIcq5frTBh+x6kSlnqwvTdgwwiTPcaZJYSkZhDtHlF+DrlccPfi4OcYcSB6vHKvkg3j7+L4He/AA==&lt;/diagram&gt;&lt;/mxfile&gt;" onclick="(function(svg){var src=window.event.target||window.event.srcElement;while (src!=null&amp;&amp;src.nodeName.toLowerCase()!='a'){src=src.parentNode;}if(src==null){if(svg.wnd!=null&amp;&amp;!svg.wnd.closed){svg.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&amp;&amp;evt.source==svg.wnd){svg.wnd.postMessage(decodeURIComponent(svg.getAttribute('content')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);svg.wnd=window.open('https://www.draw.io/?client=1&amp;lightbox=1&amp;edit=_blank');}}})(this);" viewBox="0 0 791 301" style="cursor:pointer;max-width:100%;max-height:301px;"><defs/><g transform="translate(0.5,0.5)"><ellipse cx="121" cy="120" rx="120" ry="120" fill="#ffe6cc" stroke="#d79b00" pointer-events="none"/><g transform="translate(97.5,106.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="45" height="23" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 21px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 46px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div>View</div></div></div></foreignObject><text x="23" y="22" fill="#000000" text-anchor="middle" font-size="21px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><ellipse cx="394" cy="120" rx="120" ry="120" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(339.5,106.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="108" height="23" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 21px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 109px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div>View Model</div></div></div></foreignObject><text x="54" y="22" fill="#000000" text-anchor="middle" font-size="21px" font-family="Helvetica">&lt;div&gt;View Model&lt;/div&gt;</text></switch></g><ellipse cx="671" cy="120" rx="120" ry="120" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(641.5,106.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="57" height="23" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 21px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 58px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div>Model</div></div></div></foreignObject><text x="29" y="22" fill="#000000" text-anchor="middle" font-size="21px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 205 35 L 302.63 35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 307.88 35 L 300.88 38.5 L 302.63 35 L 300.88 31.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 479 35 L 579.63 35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 584.88 35 L 577.88 38.5 L 579.63 35 L 577.88 31.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 586 205 L 485.37 205" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 480.12 205 L 487.12 201.5 L 485.37 205 L 487.12 208.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 309 205 L 211.37 205" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 206.12 205 L 213.12 201.5 L 211.37 205 L 213.12 208.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(42.5,264.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="155" height="23" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 21px; font-family: Helvetica; color: rgb(0, 127, 255); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Template Syntex</div></div></foreignObject><text x="78" y="22" fill="#007FFF" text-anchor="middle" font-size="21px" font-family="Helvetica">Template Syntex</text></switch></g><g transform="translate(332.5,264.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="122" height="23" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 21px; font-family: Helvetica; color: rgb(0, 127, 255); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Vue Instance</div></div></foreignObject><text x="61" y="22" fill="#007FFF" text-anchor="middle" font-size="21px" font-family="Helvetica">Vue Instance</text></switch></g><g transform="translate(599.5,264.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="141" height="23" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 21px; font-family: Helvetica; color: rgb(0, 127, 255); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Business Logic</div></div></foreignObject><text x="71" y="22" fill="#007FFF" text-anchor="middle" font-size="21px" font-family="Helvetica">Business Logic</text></switch></g><g transform="translate(200.5,0.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="112" height="23" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 21px; font-family: Helvetica; color: rgb(0, 255, 128); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Click Button</div></div></foreignObject><text x="56" y="22" fill="#00FF80" text-anchor="middle" font-size="21px" font-family="Helvetica">Click Button</text></switch></g><g transform="translate(482.5,0.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="95" height="23" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 21px; font-family: Helvetica; color: rgb(0, 255, 128); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Call AJAX</div></div></foreignObject><text x="48" y="22" fill="#00FF80" text-anchor="middle" font-size="21px" font-family="Helvetica">Call AJAX</text></switch></g><g transform="translate(470.5,220.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="120" height="23" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 21px; font-family: Helvetica; color: rgb(0, 255, 128); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Return result</div></div></foreignObject><text x="60" y="22" fill="#00FF80" text-anchor="middle" font-size="21px" font-family="Helvetica">Return result</text></switch></g><g transform="translate(162.5,220.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="188" height="23" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 21px; font-family: Helvetica; color: rgb(0, 255, 128); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Change View Model</div></div></foreignObject><text x="94" y="22" fill="#00FF80" text-anchor="middle" font-size="21px" font-family="Helvetica">Change View Model</text></switch></g></g></svg>

* View : 透過 HTML 及模板語法渲染出來的畫面。
* View Model : 使用 Vue.js 所建立起來的實體。
* Model : 後端程式中的商業邏輯。

圖中的綠色文字代表範例情境:

* 使用者按下按鈕。
* 透過 HTML 中模板語法的綁定觸發 Vue 實體中註冊的事件。
* 事件中叫用 AJAX 向伺服器請求資料。
* 伺服器取得資料後傳回給 Vue 實體。
* Vue 實體修改綁定的 View Model 。
* View Model 改變後觸發模板重新渲染。
* 使用者看到改變後的畫面。

上述的情境是在高層次的面上做說明，實際上 Vue.js 的運作原理還要比這個深奧許多，後面有機會再來分享，現在這階段，用這樣的架構去說明就可以有比較具體的概念了。

>如果以語言來分的話， View 就是 HTML ， View Model 是 JS ，而 Model 就是像 Node 、 Java 這類的後端語言。