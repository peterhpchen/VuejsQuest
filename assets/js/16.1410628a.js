(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{415:function(t,s){t.exports="data:image/png;base64,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"},416:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAAAfCAYAAAALO4jYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAH3SURBVGhD7ZaLccMgDIY9EeuwDMN4gezAKp6E8jBBkkEJvZooPenuuxaCEOIXSragJtpUIOGmAgk3FUi4qUDC7SLQ4/FQPsDIugIdx6EsRAUSjgokHBVIOCqQcD4g0B7sZoLzvc9+gw/ObGGz++Uz70zYjAuezP89b+a027Bt8awndu+sIfyPF5QTt2FH80U44zyYu4uZopsr0PsEItWSK/w5xx0wJdD8WpXRxOC4+KCK9C6Yi2iQXhwaIwL3yf9Xn9FZXjGz9i6BciIkgWcL4g5Iqh5dMvXD493GSwNtLre3TtsrjOOM90nxQBGgV8vlRJlZe6tAox7LHBAJkigX2a9uMk4X9vy+gX4duDjo4kfziRR/dDaOmbULW1y7LOaAxAf7Uj9mnATgfhywcYAocJ/kg/bkiodjZu2qHwmo+pgDonUURpBzTWpHqW3Vv82XwMZpbQ3tc/FJ8b9VoJgMuiBU0fCApQpbzy9j6OudRWvLhZyXSBPNcWyw5tUFcHEiuQVGcdA+RZC+YN8m0JlMax800TqmAnV8YVvJl1LmjXOdRHv7jWDiRPKPBTJXhKs+NKc6X+m8UHD+RC02jpsE4oACKa9YL9Cllysc6wQCz/udp60U1r8gZYppgZT1jOwikJosU4GEmwok3FQg4aYCCTcVSLSF8APHH0RHgZvsBgAAAABJRU5ErkJggg=="},424:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"客製事件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#客製事件"}},[t._v("#")]),t._v(" 客製事件")]),t._v(" "),n("p",[t._v("前面用三章的篇幅介紹 Props ，接著本文要來介紹組件的另一個重要的部分: 事件，在 Vue.js 中使用 "),n("code",[t._v("v-on")]),t._v(" 可以設定某事件觸發後要做的事情，而組件上的事件設定又更為彈性，可以使用開發者自訂的事件做更細部的操作，而通過事件將子組件資料傳回父組件更是開發組件中不可或缺的，現在讓我們來學習如何使用事件吧。")]),t._v(" "),n("h2",{attrs:{id:"事件命名"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#事件命名"}},[t._v("#")]),t._v(" 事件命名")]),t._v(" "),n("p",[t._v("客製的事件"),n("strong",[t._v("不會轉換名字")]),t._v("，他會直接用原本的字串對應，因此如下面的子組件模板:")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("$emit("),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("plusCount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v(", count++)"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("+"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("子組件中觸發 "),n("code",[t._v("plusCount")]),t._v(" 事件，並把 "),n("code",[t._v("count")]),t._v(" 加一的結果往上拋，現在看父組件中的設定:")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("counter")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@plus-count")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("count=$event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("counter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("父組件在模板上設定的事件名稱是 "),n("code",[t._v("plus-count")]),t._v(" 這樣的 kabab-case 字串，但因為事件的名稱對應不存在任何的轉換，因此 "),n("code",[t._v("plusCount")]),t._v(" 不會對應到 "),n("code",[t._v("plus-count")]),t._v(" ，所以子組件拋出的 "),n("code",[t._v("plusCount")]),t._v(" 不會觸發 "),n("code",[t._v("plus-count")]),t._v(" 事件。")]),t._v(" "),n("p",[t._v("假設你今天用 "),n("code",[t._v("@plusCount")]),t._v(" 做設定，則模板在轉換時會因為 HTML 是不分大小寫的而把事件名稱改為 "),n("code",[t._v("pluscount")]),t._v(" ，這樣也不會監聽到 "),n("code",[t._v("plusCount")]),t._v(" 的觸發，因此最好的方式就是都使用 kabab-case 名稱。")]),t._v(" "),n("p",[t._v("如下例:")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 子組件模板 --\x3e")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("$emit("),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("plus-count"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v(", count++)"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("+"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 父組件模板 --\x3e")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("counter")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@plus-count")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("count=$event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("counter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("上例才是正確的，所以在事件命名時:")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("$emit")]),t._v(" 的事件名稱使用 kabab-case 。")]),t._v(" "),n("li",[t._v("父組件上綁定的事件名稱使用 kabab-case 。")])]),t._v(" "),n("blockquote",[n("p",[t._v("組件跟 "),n("code",[t._v("props")]),t._v(" 屬性因為有可能是變數或是屬性，因此有可能會同時設定在 HTML 跟 JavaScript 代碼，所以需要在 kabab-case 及 camelCase 間轉換，但事件不同，事件並不會是變數或是屬性，它只有可能設定在 HTML 模板上，因此 Vue.js 就不做轉換的動作了，開發時直接使用 kabab-case 的命名就好。")])]),t._v(" "),n("h2",{attrs:{id:"客製組件的-v-model"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#客製組件的-v-model"}},[t._v("#")]),t._v(" 客製組件的 "),n("code",[t._v("v-model")])]),t._v(" "),n("p",[t._v("之前有提到 "),n("code",[t._v("v-model")]),t._v(" 是 "),n("code",[t._v("v-bind:value")]),t._v(" 及 "),n("code",[t._v("v-on:input")]),t._v(" 的語法糖，它的作用是做"),n("strong",[t._v("雙向綁定")]),t._v("，但有些像是 "),n("code",[t._v("radio")]),t._v(" 及 "),n("code",[t._v("checkbox")]),t._v(" 需要 "),n("code",[t._v("value")]),t._v(" 去綁定各別選項的值，而真正勾選的值是由像是 "),n("code",[t._v("checked")]),t._v(" 之類的屬性綁定，為了避免 "),n("code",[t._v("v-model")]),t._v(" 產生衝突，可以將 "),n("code",[t._v("model")]),t._v(" 改為 "),n("code",[t._v("v-bind:checked")]),t._v(" 及 "),n("code",[t._v("v-on:change")]),t._v(" 來讓 "),n("code",[t._v("v-model")]),t._v(" 運作正常。")]),t._v(" "),n("p",[t._v("下面的例子將 "),n("code",[t._v("model")]),t._v(" 改為使用 "),n("code",[t._v("v-bind:checked")]),t._v(" 及 "),n("code",[t._v("v-on:change")]),t._v(" :")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("component")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'base-checkbox'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  model"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    prop"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'checked'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 預設為 value")]),t._v("\n    event"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'change'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 預設為 input")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  props"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'checked'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'label'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 跟 value 一樣， v-model 的 prop : cheked 要設定在 props 中")]),t._v("\n  template"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('\n    <label>\n      <input\n        type="checkbox"\n        :checked="checked"\n        @change="$emit(\'change\', $event.target.checked)"\n      >\n      {{label}}\n    </label>\n  ')]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("在子組件的實體中設定 "),n("code",[t._v("model")]),t._v(" 物件，這個物件有兩個屬性 "),n("code",[t._v("prop")]),t._v(" 及 "),n("code",[t._v("event")]),t._v(" :")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("prop")]),t._v(" : "),n("code",[t._v("v-model")]),t._v(" 目標屬性。")]),t._v(" "),n("li",[n("code",[t._v("event")]),t._v(" : "),n("code",[t._v("v-model")]),t._v(" 監聽的事件。")])]),t._v(" "),n("p",[t._v("設定好 "),n("code",[t._v("model")]),t._v(" 的 "),n("code",[t._v("prop")]),t._v(" 及 "),n("code",[t._v("event")]),t._v(" 後，就可以依照原生的 "),n("code",[t._v("checkbox")]),t._v(" 勾選值去改變 "),n("code",[t._v("model")]),t._v(" 值。")]),t._v(" "),n("h2",{attrs:{id:"綁定原生事件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#綁定原生事件"}},[t._v("#")]),t._v(" 綁定原生事件")]),t._v(" "),n("p",[t._v("要綁定原生事件可以用 "),n("code",[t._v("native")]),t._v(" 修飾符，這樣 Vue.js 會知道這個事件是原生的事件而直接綁定到"),n("strong",[t._v("組件的根元素")]),t._v("上，如下例的輸入組件:")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("component")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'base-input'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  template"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("\n    <input>\n  ")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("這個組件很簡單，只有一個 "),n("code",[t._v("<input>")]),t._v(" 標籤，接著看一下父組件:")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("base-input")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@focus.native")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("onFocus"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("base-input")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" vm "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  el"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#app'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  methods"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("onFocus")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'focus'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("如此一來 "),n("code",[t._v("focus")]),t._v(" 在輸入框時， "),n("code",[t._v("Console")]),t._v(" 就會輸出 "),n("code",[t._v("focus")]),t._v(" :")]),t._v(" "),n("p",[n("img",{attrs:{src:a(415),alt:"focus"}})]),t._v(" "),n("p",[t._v("但是如果是像下面這樣設定子組件:")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("component")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'base-input-with-label'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  props"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'value'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'label'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  template"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("\n    <label>\n      {{label}}\n      <input>\n    </label>\n  ")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("因為根元素是 "),n("code",[t._v("<label>")]),t._v(" 而非 "),n("code",[t._v("<input>")]),t._v(" ，所以 "),n("code",[t._v("@focus.native")]),t._v(" 會綁定到 "),n("code",[t._v("<label>")]),t._v(" 導致 "),n("code",[t._v("focus")]),t._v(" 事件不會被觸發，為了解決這個問題， Vue.js 提供了 "),n("code",[t._v("$listeners")]),t._v(" ，這個物件包含所有的父組件事件(排除有 "),n("code",[t._v("native")]),t._v(" 修飾符的事件)，如此一來我們就可以使用 "),n("code",[t._v("$listeners")]),t._v(" 綁定想要的元素。")]),t._v(" "),n("p",[t._v("將剛才的 "),n("code",[t._v("base-input-with-label")]),t._v(" 的 "),n("code",[t._v("<input>")]),t._v(" 綁定 "),n("code",[t._v("$listeners")]),t._v(" :")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("label")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  {{label}}\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-on")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("$listeners"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("label")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("將父組件中的 "),n("code",[t._v("focus")]),t._v(" 事件拿掉 "),n("code",[t._v("native")]),t._v(" 修飾符:")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("base-input-with-label")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@focus")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("onFocus"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("base-input-with-label")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("這樣就可以觸發 "),n("code",[t._v("<input>")]),t._v(" 的 "),n("code",[t._v("focus")]),t._v(" 事件。")]),t._v(" "),n("h3",{attrs:{id:"合併父子組件的事件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#合併父子組件的事件"}},[t._v("#")]),t._v(" 合併父子組件的事件")]),t._v(" "),n("p",[t._v("使用 "),n("code",[t._v('v-on="$listeners"')]),t._v(" 會使子組件的事件綁定出現問題，為了整合父子組件的事件，我們可以使用計算屬性將父子的事件合併後再統一綁定到元素上。")]),t._v(" "),n("p",[t._v("假設剛剛的 "),n("code",[t._v("input")]),t._v(" 需要使用 "),n("code",[t._v("v-model")]),t._v(" 綁定資料，我們本來會像下面這樣設定:")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("label")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  {{label}}\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":value")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@input")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("$emit("),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("input"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v(", $event.target.value)"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("label")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("但因為我們要多綁定 "),n("code",[t._v("$listener")]),t._v(" ，所以使用一個計算屬性來合併:")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("component")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'base-input-with-label'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  props"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'value'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'label'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  computed"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("inputListeners")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" vm "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("assign")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 Object.assign 合併物件")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$listeners"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 將 $listeners 的事件當作預設值")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("input")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$emit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'input'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 覆蓋 $listeners 中的 input 事件")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  template"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('\n    <label>\n      {{label}}\n      <input\n        v-on="inputListeners"\n        :value="value"\n      >\n    </label>\n  ')]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("直接綁定 "),n("code",[t._v("inputListeners")]),t._v(" 就可以綁定父子組件合併後的事件。")]),t._v(" "),n("blockquote",[n("p",[n("code",[t._v("$listeners")]),t._v(" 跟 "),n("code",[t._v("$attrs")]),t._v(" 搭配可以使客製組件上的設定跟原生的元素完全一樣，而不用去擔心組件中的模板配置。")])]),t._v(" "),n("h2",{attrs:{id:"sync-修飾符"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sync-修飾符"}},[t._v("#")]),t._v(" "),n("code",[t._v(".sync")]),t._v(" 修飾符")]),t._v(" "),n("p",[t._v("有時屬性也跟 "),n("code",[t._v("model")]),t._v(" 一樣會需要做雙向綁定，這時可以用客製事件達成，在 Vue.js 中官方建議使用 "),n("code",[t._v("update:[屬性名]")]),t._v(" 的事件叫用父組件更新屬性，如下例所示:")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("component")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'base-button'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  props"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'title'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  template"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('\n    <button @click="click">{{title}}</button>\n  ')]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  methods"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("click")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" newTitle "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("reverse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$emit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'update:title'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newTitle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("父組件如下:")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("base-button")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":title")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("@update:")]),t._v("title")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("title=$event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("base-button")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" vm "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  el"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#app'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  data"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    title"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'I Love Vue.js'")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("這樣我們就可在子組件中更新 "),n("code",[t._v("title")]),t._v(" 的字串:")]),t._v(" "),n("p",[n("img",{attrs:{src:a(416),alt:"sync"}})]),t._v(" "),n("p",[t._v("點擊按鈕會將名稱反序。")]),t._v(" "),n("p",[t._v("Vue.js 為了讓開發者撰寫的代碼較為單純而提供了 "),n("code",[t._v(".sync")]),t._v(" 修飾符，它是一個屬性雙向綁定的語法糖，因此如下的屬性設定:")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("base-button")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":title.sync")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("base-button")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("其實就是剛剛的代碼:")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("base-button")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":title")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("@update:")]),t._v("title")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("title=$event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("base-button")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("blockquote",[n("p",[n("code",[t._v(".sync")]),t._v(" 修飾符不能使用表達式設定，你只能像是 "),n("code",[t._v("v-model")]),t._v(" 那樣使用屬性名稱做設置。")])]),t._v(" "),n("h3",{attrs:{id:"sync-綁定整個物件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sync-綁定整個物件"}},[t._v("#")]),t._v(" "),n("code",[t._v(".sync")]),t._v(" 綁定整個物件")]),t._v(" "),n("p",[t._v("之前介紹的 "),n("code",[t._v(".sync")]),t._v(" 修飾符是綁定單一屬性，其實它也可以綁定物件:")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("base-button")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-bind.sync")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("obj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("base-button")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("obj"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'I am in obj'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("code",[t._v(".sync")]),t._v(" 會將物件中"),n("strong",[t._v("所有的屬性")]),t._v("都當作子組件屬性傳入子組件，並且註冊每一個屬性的 "),n("code",[t._v("update")]),t._v(" 事件。")]),t._v(" "),n("h2",{attrs:{id:"demo"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#demo"}},[t._v("#")]),t._v(" DEMO")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://codepen.io/peterhpchen/pen/ZmOVpQ",target:"_blank",rel:"noopener noreferrer"}},[t._v("CodePen"),n("OutboundLink")],1)])]),t._v(" "),n("h2",{attrs:{id:"結語"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#結語"}},[t._v("#")]),t._v(" 結語")]),t._v(" "),n("p",[t._v("本文介紹了客製事件，它的名稱只能使用 kabab-case ，也可以配合修改 "),n("code",[t._v("model")]),t._v(" 的設定使 "),n("code",[t._v("v-model")]),t._v(" 綁定不同的屬性及事件，再來使介紹原生事件的設定及合併父子組件的方法，最後講解 "),n("code",[t._v(".sync")]),t._v(" 修飾符。")]),t._v(" "),n("h2",{attrs:{id:"參考資料"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#參考資料"}},[t._v("#")]),t._v(" 參考資料")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org/v2/guide/components-custom-events.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue.js Guide: Custom Events"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://vuejs.org/v2/api/#model",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue.js API: model"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://vuejs.org/v2/api/#vm-listeners",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue.js API: vm.$listeners"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);